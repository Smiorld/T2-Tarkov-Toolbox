# T2 塔科夫工具箱 - PM ↔ AI 协作指南

## 📋 项目概述

这是一个**产品经理主导 + Claude Code AI 开发**的协作项目。

- **产品经理（你）**: 提出需求、定义功能、审查成果
- **AI 开发者（Claude）**: 编写代码、维护文档、保持项目结构

## 🎯 协作模式

### 你的角色（产品经理）

1. **提出需求**
   - "我想要添加一个新功能：XXX"
   - "这个界面需要调整为 YYY"
   - "帮我修复这个 bug：ZZZ"

2. **提供参考资料**
   - API 文档链接
   - 参考项目地址
   - 设计稿或截图
   - 具体的技术要求

3. **审查和反馈**
   - 测试功能是否符合预期
   - 提出改进建议
   - 确认功能完成

### Claude 的角色（AI 开发者）

1. **理解需求**
   - 询问不清楚的细节
   - 确认技术可行性
   - 提出实现建议

2. **开发实现**
   - 编写前端代码（React + TypeScript）
   - 编写后端代码（Rust + Tauri）
   - 遵循项目规范和最佳实践

3. **维护文档**
   - 自动更新项目文档
   - 记录重要决策
   - 保持代码注释完整

4. **保持结构**
   - 维护统一的代码风格
   - 遵循项目架构
   - 确保文件组织清晰

## 🛠️ 如何提出需求

### ✅ 好的需求示例

**示例 1 - 新功能**
```
我需要添加一个"收藏物品"功能：
- 用户可以在物价查询页面点击收藏按钮
- 收藏的物品保存到本地数据库
- 在新的"收藏夹"页面显示所有收藏的物品
- 参考这个项目：[GitHub链接]
```

**示例 2 - UI 调整**
```
物价查询页面需要优化：
- 物品卡片太大了，改成列表视图
- 添加筛选功能（按类型、按价格）
- 参考 Tarkov.dev 的物品列表样式
```

**示例 3 - Bug 修复**
```
发现一个 bug：
- 重现步骤：打开地图页面 → 点击任务点 → 应用崩溃
- 错误信息：[粘贴错误日志]
- 期望行为：点击后应该显示任务详情弹窗
```

### ❌ 不够清晰的需求

```
"帮我优化一下界面"  ← 太模糊
"这里有 bug"  ← 缺少重现步骤
"参考那个项目做"  ← 没有具体链接
```

## 📚 项目文档结构

```
.claude/
├── context.md                    # 项目上下文（技术栈、功能概述）
├── COLLABORATION_GUIDE.md        # 本文档（协作指南）
├── settings.json                 # Claude Code 配置
├── skills/                       # AI 技能库
│   ├── skill-developer/          # 技能开发指南
│   └── skill-rules.json          # 技能触发规则
├── agents/                       # 专用 AI 代理
│   ├── code-architecture-reviewer.md
│   ├── documentation-architect.md
│   ├── plan-reviewer.md
│   └── ...
├── commands/                     # 斜杠命令
│   ├── dev-docs.md               # 生成开发文档
│   └── dev-docs-update.md        # 更新开发文档
└── hooks/                        # 自动化钩子
    ├── skill-activation-prompt.sh
    └── post-tool-use-tracker.sh

docs/                             # 项目文档（将要创建）
├── API_GUIDE.md                  # Tarkov.dev API 使用指南
├── SCREENSHOT_GUIDE.md           # 截图解析技术说明
└── ARCHITECTURE.md               # 项目架构文档

dev/active/                       # 开发文档（临时）
└── [feature-name]/
    ├── [feature]-plan.md         # 功能规划
    ├── [feature]-context.md      # 关键决策和文件
    └── [feature]-tasks.md        # 任务清单
```

## 🔄 典型工作流程

### 场景 1：添加新功能

1. **你提出需求**
   ```
   我想添加"物品对比"功能，用户可以选择两个物品进行价格对比
   参考：Tarkov-Market 的对比功能
   ```

2. **Claude 规划**
   - 询问细节（对比哪些数据？如何展示？）
   - 使用 `/dev-docs` 创建开发计划
   - 列出需要修改的文件

3. **你确认**
   ```
   对比价格、商人收购价、24h 趋势，用左右对比的卡片展示
   ```

4. **Claude 开发**
   - 创建组件和页面
   - 实现 Rust 后端逻辑
   - 更新路由
   - 编写注释和文档

5. **你测试**
   - 运行 `pnpm tauri dev`
   - 测试功能
   - 提出改进意见

6. **迭代优化**
   - Claude 根据反馈调整
   - 直到功能完善

### 场景 2：修复 Bug

1. **你报告 Bug**
   ```
   Bug：地图页面加载时白屏
   错误信息：[粘贴控制台错误]
   ```

2. **Claude 调试**
   - 检查相关文件
   - 定位问题根源
   - 提出修复方案

3. **你确认方案**
   ```
   好的，修复吧
   ```

4. **Claude 修复并验证**
   - 修改代码
   - 解释修复内容
   - 建议测试步骤

### 场景 3：代码审查和重构

1. **你请求审查**
   ```
   帮我审查一下物价查询模块的代码，看看有没有优化空间
   ```

2. **Claude 使用专用 Agent**
   - 调用 `code-architecture-reviewer` agent
   - 分析代码结构
   - 提出改进建议

3. **你决定**
   ```
   第 2 和第 4 个建议很好，实施吧
   ```

4. **Claude 重构**
   - 使用 `refactor-planner` agent 规划
   - 执行重构
   - 更新相关文档

## 🎨 可用的 AI 能力

### 专用 Agents（代理）

使用这些 agents 可以让 Claude 进入专门模式：

| Agent | 用途 | 使用场景 |
|-------|------|----------|
| **documentation-architect** | 生成项目文档 | "帮我写完整的 API 文档" |
| **code-architecture-reviewer** | 代码架构审查 | "审查物价查询模块的代码" |
| **plan-reviewer** | 审查开发计划 | "评估这个功能的实现计划" |
| **refactor-planner** | 重构规划 | "计划重构状态管理" |
| **web-research-specialist** | 技术调研 | "调研最好的 Rust 截图库" |
| **auto-error-resolver** | 自动修复错误 | "修复所有 TypeScript 类型错误" |

**使用方法**：直接告诉 Claude
```
"使用 documentation-architect agent 帮我生成完整的项目文档"
```

### 斜杠命令

| 命令 | 功能 | 使用场景 |
|------|------|----------|
| `/dev-docs` | 创建开发文档 | 开始新功能前创建规划文档 |
| `/dev-docs-update` | 更新开发文档 | 功能完成后更新文档 |

### 技能（Skills）

技能会根据上下文自动激活：

| 技能 | 触发条件 | 作用 |
|------|----------|------|
| **skill-developer** | 编辑 `.claude/skills/` 文件 | 指导创建新技能 |

## 📝 文档维护规则

### Claude 会自动维护

1. **代码注释**
   - 所有函数和组件的文档注释
   - 复杂逻辑的解释注释
   - 使用中文注释

2. **README 更新**
   - 添加新功能后更新功能列表
   - 更新技术栈说明
   - 保持开发指南最新

3. **开发文档**
   - 使用 `/dev-docs` 记录开发计划
   - 功能完成后更新文档
   - 记录重要决策

### 你可以请求的文档

- "帮我写一个用户使用手册"
- "生成 API 接口文档"
- "整理项目架构文档"
- "写一个贡献指南"

## 🚀 快速命令参考

### 常用请求

```
# 开发
"帮我实现 [功能名称]"
"修复 [bug 描述]"
"优化 [模块名称] 的性能"

# 文档
"更新 README"
"生成 API 文档"
"写一个 [功能] 的使用指南"

# 审查
"审查代码质量"
"检查是否有安全问题"
"评估项目结构"

# 重构
"重构 [模块名称]"
"统一代码风格"
"优化文件组织"
```

### 提供参考的方式

```
# 提供链接
"参考这个 API 文档：[URL]"
"看看这个项目的实现：[GitHub URL]"

# 提供代码片段
"我想要类似这样的效果：
[粘贴代码]"

# 提供截图（如果支持）
"界面应该像这样：[上传截图]"
```

## 🎯 项目目标

### 短期目标（1-2周）

- [ ] 完成核心功能（滤镜、地图、物价查询）
- [ ] 完善项目文档
- [ ] 优化用户界面

### 中期目标（1个月）

- [ ] 添加高级功能（收藏、对比、历史记录）
- [ ] 优化性能和体验
- [ ] 准备开源发布

### 长期目标（持续）

- [ ] 社区反馈和迭代
- [ ] 添加更多游戏工具功能
- [ ] 支持其他平台（macOS、Linux）

## 💡 最佳实践

### 提需求时

1. **明确具体**：说清楚要什么，而不是怎么做
2. **提供参考**：给出类似功能的链接或示例
3. **说明原因**：解释为什么需要这个功能
4. **设定优先级**：标注哪些是必须的，哪些是可选的

### 测试验收时

1. **功能测试**：是否实现了要求的功能
2. **边界测试**：测试极端情况（空数据、错误输入）
3. **用户体验**：是否符合直觉，是否流畅
4. **性能检查**：是否有卡顿或延迟

### 反馈时

1. **具体描述**："物品卡片太大" 而不是 "界面不好看"
2. **提供截图**：如果可能，提供视觉示例
3. **区分优先级**："这个必须改" vs "这个可以后续优化"

## 🔧 技术栈速查

### 前端（React）

- **UI 组件**: Tailwind CSS
- **状态管理**: Zustand
- **路由**: React Router
- **构建**: Vite

### 后端（Rust）

- **框架**: Tauri 2.0
- **HTTP 客户端**: reqwest
- **数据库**: rusqlite
- **异步**: tokio

### 外部 API

- **Tarkov.dev**: 物价、物品、地图数据
- **GraphQL**: 查询语言

## 📞 常见问题

### Q: 我不懂技术细节怎么办？

**A**: 没关系！你只需要：
- 描述你想要什么功能
- 提供参考示例
- 测试完成的功能

Claude 会处理所有技术实现细节。

### Q: 功能没按我想的实现怎么办？

**A**: 直接反馈：
```
"这个功能跟我想的不一样，我期望的是 [描述]"
```

### Q: 如何确保代码质量？

**A**: 可以请求：
```
"审查这段代码的质量"
"检查是否符合最佳实践"
"运行所有测试"
```

### Q: 如何查看项目进度？

**A**: 查看：
- [.claude/context.md](.claude/context.md) - 项目路线图
- `dev/active/` - 当前开发任务
- README.md - 已完成功能列表

## 🎉 开始协作

准备好了吗？试试你的第一个需求：

```
"帮我实现物价查询页面的搜索功能，用户可以输入物品名称进行模糊搜索"
```

让我们开始构建 T2 塔科夫工具箱吧！

---

**最后更新**: 2024-12-03
**维护者**: Claude Code AI
**项目状态**: Phase 1 - 基础框架搭建中
